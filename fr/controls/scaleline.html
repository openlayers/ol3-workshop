
<!DOCTYPE HTML>
<html lang="fr" >
    <head>
        <meta charset="UTF-8">
        <title>Le control barre d'échelle ScaleLine · HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/honkit-plugin-image-captions/image-captions.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../style.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="select.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Tapez pour rechercher" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="/" target="_blank" class="custom-link">OpenLayers Workshop</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../basics/">
            
                <a href="../basics/">
            
                    
                    Les basiques
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../basics/map.html">
            
                <a href="../basics/map.html">
            
                    
                    Créez une carte
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../basics/dissect.html">
            
                <a href="../basics/dissect.html">
            
                    
                    Disséquez votre carte
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../basics/resources.html">
            
                <a href="../basics/resources.html">
            
                    
                    Ressources OpenLayers utiles
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../layers/">
            
                <a href="../layers/">
            
                    
                    Les couches et les sources
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../layers/wms.html">
            
                <a href="../layers/wms.html">
            
                    
                    Sources WMS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../layers/cached.html">
            
                <a href="../layers/cached.html">
            
                    
                    Sources tuilées
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../layers/proprietary.html">
            
                <a href="../layers/proprietary.html">
            
                    
                    Fournisseurs de tuiles propriétaires
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../layers/vector.html">
            
                <a href="../layers/vector.html">
            
                    
                    Données vecteur
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../layers/imagevector.html">
            
                <a href="../layers/imagevector.html">
            
                    
                    Source image vecteur
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    Les control et les interaction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.4.1" data-path="scaleline.html">
            
                <a href="scaleline.html">
            
                    
                    Le control barre d'échelle ScaleLine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="select.html">
            
                <a href="select.html">
            
                    
                    L'interaction de sélection Select
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="draw.html">
            
                <a href="draw.html">
            
                    
                    L'interaction de dessin Draw
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="modify.html">
            
                <a href="modify.html">
            
                    
                    L'interaction de modification Modify
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../vector/">
            
                <a href="../vector/">
            
                    
                    Les sujets liés aux vecteurs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../vector/formats.html">
            
                <a href="../vector/formats.html">
            
                    
                    Aparté sur les formats
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../vector/style-intro.html">
            
                <a href="../vector/style-intro.html">
            
                    
                    Concepts de styles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../vector/style.html">
            
                <a href="../vector/style.html">
            
                    
                    Styles personnalisés
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../custom-builds/">
            
                <a href="../custom-builds/">
            
                    
                    Les build personnalisés
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../custom-builds/concepts.html">
            
                <a href="../custom-builds/concepts.html">
            
                    
                    Concepts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../custom-builds/create.html">
            
                <a href="../custom-builds/create.html">
            
                    
                    Créer des build personnalisés
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Publié avec HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Le control barre d'échelle ScaleLine</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="afficher-une-barre-déchelle">Afficher une barre d'échelle</h1>
<p>Un autre widget typique à afficher sur une carte est la barre d'échelle.  OpenLayers fournit un <code>ol.control.ScaleLine</code> juste pour cela.</p>
<h2 id="créer-un-control-de-barre-déchelle-scaleline">Créer un <code>control</code> de barre d'échelle (<code>ScaleLine</code>)</h2>
<h3 id="tâches">Tâches</h3>
<ol>
<li><p>Ouvrez <code>map.html</code> dans votre éditeur de texte.</p>
</li>
<li><p>Quelque part dans la configuration de la carte, ajoutez le code suivant pour créer un nouveau <code>control</code> de barre d'échelle pour votre carte:</p>
<pre><code class="lang-js"><span class="hljs-attr">controls</span>: ol.<span class="hljs-property">control</span>.<span class="hljs-title function_">defaults</span>().<span class="hljs-title function_">extend</span>([
  <span class="hljs-keyword">new</span> ol.<span class="hljs-property">control</span>.<span class="hljs-title class_">ScaleLine</span>()
]),
</code></pre>
</li>
<li><p>Sauvez vos changements et ouvrez <code>map.html</code> dans votre navigateur: <a href="http://localhost:5173/map.html" target="_blank">http://localhost:5173/map.html</a></p>
<figure id="fig1.4.1.1"><img src="scaleline1.png" alt="Une barre d'échelle par défaut dans le coin en bas à gauche"></img><figcaption>Une barre d'échelle par défaut dans le coin en bas à gauche</figcaption></figure>
</li>
</ol>
<h2 id="déplacer-le-control-de-type-scaleline">Déplacer le <code>control</code> de type <code>ScaleLine</code></h2>
<p>Vous pouvez trouver la barre d'échelle difficile à lire par dessus le fond image. Il y a quelques approches à prendre en compte pour améliorer la visibilité de l'échelle.  Si vous voulez gardez le <code>control</code> dans la fenêtre d'affichage de carte, vous pouvez ajouter quelques déclarations de style dans le CSS de votre document. Pour tester cela, vous pouvez inclure une couleur de fond et une marge à la barre d'échelle avec quelque chose comme ce qui suit:</p>
<pre><code class="lang-css">  <span class="hljs-selector-class">.ol-scale-line</span> {
    <span class="hljs-attribute">background</span>: black;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;
  }
</code></pre>
<p>Cependant, pour l'intérêt de l'exercice, admettons que vous pensez que l'affichage de la fenêtre de carte est vraiment absolument trop chargée. Pour éviter cet encombrement, vous pouvez afficher votre échelle dans un lieu différent. Pour accomplir ceci, nous avons besoin en premier de créer un élément additionnel dans notre balisage et ensuite, de dire au <code>control</code> d'échelle de faire son rendu à l'intérieur de ce nouvel élément.</p>
<h3 id="tâches">Tâches</h3>
<ol>
<li><p>Créez un nouvel élément de type block dans la partie <code>&lt;body&gt;</code> de votre page. Pour rendre cet élément facile à être référé, nous lui donnons un attribut <code>id</code>. Insérez le balisage suivant quelque part dans le <code>&lt;body&gt;</code> de votre page <code>map.html</code>. (en plaçant l'élément d'échelle juste après l'élement de la fenêtre d'affichage de carte <code>&lt;div id="map"&gt;&lt;/div&gt;</code> est ce qui parait le plus logique.):</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"scale-line"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scale-line"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
</li>
<li><p>Maintenant, modifiez le code créant le <code>control</code> d'échelle afin qu'il se réfère à l'élément <code>scale-line</code>:</p>
<pre><code class="lang-js"><span class="hljs-attr">controls</span>: ol.<span class="hljs-property">control</span>.<span class="hljs-title function_">defaults</span>().<span class="hljs-title function_">extend</span>([
  <span class="hljs-keyword">new</span> ol.<span class="hljs-property">control</span>.<span class="hljs-title class_">ScaleLine</span>({<span class="hljs-attr">className</span>: <span class="hljs-string">'ol-scale-line'</span>, <span class="hljs-attr">target</span>: <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'scale-line'</span>)})
]),
</code></pre>
</li>
<li><p>Sauvez vos changements et ouvrez <code>map.html</code> dans votre navigateur: <a href="http://localhost:5173/map.html" target="_blank">http://localhost:5173/map.html</a></p>
</li>
<li><p>"Corrigez" la position du <code>control</code> avec, par exemple, les règles CSS suivantes:</p>
<pre><code class="lang-css"><span class="hljs-selector-class">.scale-line</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">350px</span>;
}
<span class="hljs-selector-class">.ol-scale-line</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0px</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0px</span>;
}
</code></pre>
</li>
<li><p>Maintenant, sauvegardez vos changements et regardez <code>map.html</code> à nouveau dans votre navigateur: <a href="http://localhost:5173/map.html" target="_blank">http://localhost:5173/map.html</a></p>
<figure id="fig1.4.1.2"><img src="scaleline2.png" alt="Un `control` de barre d'échelle à l'extérieur de la fenêtre d'affichage de la carte"></img><figcaption>Un `control` de barre d'échelle à l'extérieur de la fenêtre d'affichage de la carte</figcaption></figure>
</li>
</ol>
<p><em>Note</em> - Pour créer un <code>control</code> personnalisé, vous pouvez le faire hériter (en utilisant <code>ol.inherits</code>) de <code>ol.control.Control</code>. Pour voir, un exemple de cela, allez-voir: <a href="http://openlayers.org/en/latest/examples/custom-controls.html" target="_blank">http://openlayers.org/en/latest/examples/custom-controls.html</a>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Les control et les interaction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="select.html" class="navigation navigation-next " aria-label="Next page: L'interaction de sélection Select">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Le control barre d'échelle ScaleLine","level":"1.4.1","depth":2,"next":{"title":"L'interaction de sélection Select","level":"1.4.2","depth":2,"path":"controls/select.md","ref":"controls/select.md","articles":[]},"previous":{"title":"Les control et les interaction","level":"1.4","depth":1,"path":"controls/README.md","ref":"controls/README.md","articles":[{"title":"Le control barre d'échelle ScaleLine","level":"1.4.1","depth":2,"path":"controls/scaleline.md","ref":"controls/scaleline.md","articles":[]},{"title":"L'interaction de sélection Select","level":"1.4.2","depth":2,"path":"controls/select.md","ref":"controls/select.md","articles":[]},{"title":"L'interaction de dessin Draw","level":"1.4.3","depth":2,"path":"controls/draw.md","ref":"controls/draw.md","articles":[]},{"title":"L'interaction de modification Modify","level":"1.4.4","depth":2,"path":"controls/modify.md","ref":"controls/modify.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["image-captions","include","include-codeblock","copy-code-button"],"styles":{"website":"style.css"},"pluginsConfig":{"include":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"copy-code-button":{},"include-codeblock":{"check":false,"edit":false,"lang":"","fixlang":false,"template":"default","theme":"chrome","unindent":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"image-captions":{"caption":"_CAPTION_","variable_name":"_pictures"}},"theme":"default","honkit":"^3.7.1","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"workshopUrl":"http://localhost:5173","_pictures":[{"backlink":"basics/map.html#fig1.2.1.1","level":"1.2.1","list_caption":"Figure: Un carte fonctionnelle affichant une image du monde","alt":"Un carte fonctionnelle affichant une image du monde","nro":1,"url":"map1.png","index":1,"caption_template":"_CAPTION_","label":"Un carte fonctionnelle affichant une image du monde","attributes":{},"skip":false,"key":"1.2.1.1"},{"backlink":"basics/resources.html#fig1.2.3.1","level":"1.2.3","list_caption":"Figure: A un point d'arrêt dans le debugger","alt":"A un point d'arrêt dans le debugger","nro":2,"url":"debugger.png","index":1,"caption_template":"_CAPTION_","label":"A un point d'arrêt dans le debugger","attributes":{},"skip":false,"key":"1.2.3.1"},{"backlink":"layers/wms.html#fig1.3.1.1","level":"1.3.1","list_caption":"Figure: Un WMS comme source image","alt":"Un WMS comme source image","nro":3,"url":"wms1.png","index":1,"caption_template":"_CAPTION_","label":"Un WMS comme source image","attributes":{},"skip":false,"key":"1.3.1.1"},{"backlink":"layers/cached.html#fig1.3.2.1","level":"1.3.2","list_caption":"Figure: Une couche tuilée avec une source de type OSM","alt":"Une couche tuilée avec une source de type OSM","nro":4,"url":"cached1.png","index":1,"caption_template":"_CAPTION_","label":"Une couche tuilée avec une source de type OSM","attributes":{},"skip":false,"key":"1.3.2.1"},{"backlink":"layers/proprietary.html#fig1.3.3.1","level":"1.3.3","list_caption":"Figure: Une carte avec des tuiles d'un source de Bing Maps","alt":"Une carte avec des tuiles d'un source de Bing Maps","nro":5,"url":"proprietary1.png","index":1,"caption_template":"_CAPTION_","label":"Une carte avec des tuiles d'un source de Bing Maps","attributes":{},"skip":false,"key":"1.3.3.1"},{"backlink":"layers/vector.html#fig1.3.4.1","level":"1.3.4","list_caption":"Figure: Emplacements de tremblements de terre","alt":"Emplacements de tremblements de terre","nro":6,"url":"vector1.png","index":1,"caption_template":"_CAPTION_","label":"Emplacements de tremblements de terre","attributes":{},"skip":false,"key":"1.3.4.1"},{"backlink":"controls/scaleline.html#fig1.4.1.1","level":"1.4.1","list_caption":"Figure: Une barre d'échelle par défaut dans le coin en bas à gauche","alt":"Une barre d'échelle par défaut dans le coin en bas à gauche","nro":7,"url":"./scaleline1.png","index":1,"caption_template":"_CAPTION_","label":"Une barre d'échelle par défaut dans le coin en bas à gauche","attributes":{},"skip":false,"key":"1.4.1.1"},{"backlink":"controls/scaleline.html#fig1.4.1.2","level":"1.4.1","list_caption":"Figure: Un `control` de barre d'échelle à l'extérieur de la fenêtre d'affichage de la carte","alt":"Un `control` de barre d'échelle à l'extérieur de la fenêtre d'affichage de la carte","nro":8,"url":"scaleline2.png","index":2,"caption_template":"_CAPTION_","label":"Un `control` de barre d'échelle à l'extérieur de la fenêtre d'affichage de la carte","attributes":{},"skip":false,"key":"1.4.1.2"},{"backlink":"controls/select.html#fig1.4.2.1","level":"1.4.2","list_caption":"Figure: Utilisation d'une interaction pour sélectionner les objets géographiques issus d'une couche vecteur","alt":"Utilisation d'une interaction pour sélectionner les objets géographiques issus d'une couche vecteur","nro":9,"url":"select1.png","index":1,"caption_template":"_CAPTION_","label":"Utilisation d'une interaction pour sélectionner les objets géographiques issus d'une couche vecteur","attributes":{},"skip":false,"key":"1.4.2.1"},{"backlink":"controls/draw.html#fig1.4.3.1","level":"1.4.3","list_caption":"Figure: Utilisation d'une interaction de dessin pour ajouter un objet géographique à la source vecteur","alt":"Utilisation d'une interaction de dessin pour ajouter un objet géographique à la source vecteur","nro":10,"url":"draw1.png","index":1,"caption_template":"_CAPTION_","label":"Utilisation d'une interaction de dessin pour ajouter un objet géographique à la source vecteur","attributes":{},"skip":false,"key":"1.4.3.1"},{"backlink":"vector/style.html#fig1.5.3.1","level":"1.5.3","list_caption":"Figure: Bâtiments avec étiquette issue de la clé `field`","alt":"Bâtiments avec étiquette issue de la clé `field`","nro":11,"url":"style2.png","index":1,"caption_template":"_CAPTION_","label":"Bâtiments avec étiquette issue de la clé `field`","attributes":{},"skip":false,"key":"1.5.3.1"}]},"language":"fr","links":{"sidebar":{"OpenLayers Workshop":"/"}},"gitbook":"*"},"file":{"path":"controls/scaleline.md","mtime":"2024-12-03T14:58:51.896Z","type":"markdown"},"gitbook":{"version":"6.0.2","time":"2024-12-03T14:58:56.652Z"},"basePath":"..","book":{"language":"fr"}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

